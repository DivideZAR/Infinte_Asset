{
  "$schema": "https://opencode.ai/config.json",
  "agent": {
    "git-agent": {
      "description": "Git operations: branch management, commits, merges, and repository analysis. Automatically invoked for git-related tasks.",
      "mode": "subagent",
      "model": "ollama/granite4:7b-a1b-h-16k",
      "temperature": 0.1,
      "maxSteps": 50,
      "tools": {
        "bash": true,
        "read": true,
        "grep": true,
        "edit": false,
        "write": false
      },
      "permission": {
        "bash": {
          "git status": "allow",
          "git log*": "allow",
          "git diff*": "allow",
          "git branch*": "allow",
          "git checkout*": "allow",
          "git add*": "allow",
          "git commit*": "allow",
          "git stash*": "allow",
          "git merge*": "ask",
          "git push*": "ask",
          "git pull*": "ask",
          "git reset*": "ask",
          "git rebase*": "ask",
          "rm -rf /": "deny",
          "sudo *": "deny",
          "format*": "deny",
          "fdisk*": "deny"
        },
        "edit": "ask",
        "write": "ask"
      },
      "task": {
        "tester-agent": "allow"
      }
    },
    "tester-agent": {
      "description": "Testing pipeline: runs TypeScript checks, linting, Jest tests, and build validation. Automatically invoked for code quality tasks.",
      "mode": "subagent",
      "model": "ollama/granite4:7b-a1b-h-16k",
      "temperature": 0.1,
      "maxSteps": 50,
      "tools": {
        "bash": true,
        "read": true,
        "grep": true,
        "glob": true,
        "edit": false,
        "write": false
      },
      "permission": {
        "bash": {
          "npm test*": "allow",
          "npm run typecheck*": "allow",
          "npm run lint*": "allow",
          "npm run build*": "allow",
          "npm run test:coverage*": "allow",
          "npm run *": "allow",
          "npm publish": "deny",
          "git push --force": "deny",
          "rm -rf /": "deny",
          "sudo *": "deny"
        },
        "edit": "ask",
        "write": "ask"
      },
      "task": {
        "git-agent": "allow"
      }
    },
    "build": {
      "mode": "primary",
      "model": "ollama/granite4:7b-a1b-h-16k",
      "temperature": 0.1,
      "permission": {
        "task": {
          "*": "allow",
          "git-agent": "allow",
          "tester-agent": "allow"
        }
      }
    },
    "plan": {
      "mode": "primary",
      "model": "ollama/granite4:7b-a1b-h-16k",
      "temperature": 0.1,
      "permission": {
        "task": {
          "*": "allow",
          "git-agent": "allow",
          "tester-agent": "allow"
        }
      }
    }
  },
  "tool": {
    "write": {
      "enabled": true
    },
    "edit": {
      "enabled": true
    },
    "bash": {
      "enabled": true
    },
    "read": {
      "enabled": true
    },
    "grep": {
      "enabled": true
    },
    "glob": {
      "enabled": true
    }
  }
}
